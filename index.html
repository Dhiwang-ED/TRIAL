<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lembar Kerja Peluang - SMP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .dice-face {
            transition: transform 0.3s ease;
        }
        .dice-face:hover {
            transform: scale(1.05);
        }
        .coin {
            transition: transform 0.5s ease;
        }
        .coin.flipping {
            animation: flip 1s ease-in-out;
        }
        @keyframes flip {
            0% { transform: rotateY(0deg); }
            50% { transform: rotateY(180deg); }
            100% { transform: rotateY(360deg); }
        }
        .card-shadow {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-indigo-800 mb-2">📊 Lembar Kerja Peluang</h1>
            <p class="text-lg text-gray-600">Matematika SMP - Belajar Peluang dengan Simulasi Interaktif</p>
        </div>

        <!-- Materi Teori -->
        <div class="bg-white rounded-xl p-6 mb-8 card-shadow">
            <h2 class="text-2xl font-semibold text-indigo-700 mb-4">📚 Materi: Peluang Kejadian A, B, dan A∩B</h2>
            
            <div class="grid lg:grid-cols-3 gap-6 mb-6">
                <div>
                    <h3 class="text-lg font-medium text-gray-800 mb-3">Pengertian Peluang</h3>
                    <p class="text-gray-600 mb-4">Peluang adalah kemungkinan terjadinya suatu kejadian. Nilai peluang berkisar antara 0 sampai 1.</p>
                    
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h4 class="font-medium text-blue-800 mb-2">Rumus Dasar:</h4>
                        <div class="text-center bg-white p-3 rounded border-2 border-blue-200">
                            <span class="text-lg">$$P(A) = \frac{n(A)}{n(S)}$$</span>
                        </div>
                        <p class="text-sm text-blue-600 mt-2">
                            P(A) = Peluang kejadian A<br>
                            n(A) = Banyak kejadian A<br>
                            n(S) = Banyak semua kemungkinan
                        </p>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-medium text-gray-800 mb-3">Peluang Gabungan (A ∪ B)</h3>
                    <p class="text-gray-600 mb-4">Peluang terjadinya kejadian A atau B atau keduanya.</p>
                    
                    <div class="bg-green-50 p-4 rounded-lg">
                        <h4 class="font-medium text-green-800 mb-2">Rumus:</h4>
                        <div class="text-center bg-white p-3 rounded border-2 border-green-200">
                            <span class="text-base">$$P(A \cup B) = P(A) + P(B) - P(A \cap B)$$</span>
                        </div>
                        <p class="text-sm text-green-600 mt-2">
                            Dikurangi P(A ∩ B) karena tidak boleh dihitung dua kali
                        </p>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-medium text-gray-800 mb-3">Peluang Irisan (A ∩ B)</h3>
                    <p class="text-gray-600 mb-4">Peluang terjadinya kejadian A dan B secara bersamaan.</p>
                    
                    <div class="bg-purple-50 p-4 rounded-lg">
                        <h4 class="font-medium text-purple-800 mb-2">Rumus:</h4>
                        <div class="text-center bg-white p-3 rounded border-2 border-purple-200">
                            <span class="text-base">$$P(A \cap B) = \frac{n(A \cap B)}{n(S)}$$</span>
                        </div>
                        <p class="text-sm text-purple-600 mt-2">
                            Untuk kejadian saling bebas:<br>
                            $$P(A \cap B) = P(A) \times P(B)$$
                        </p>
                    </div>
                </div>
            </div>

            <!-- Diagram Venn Interaktif -->
            <div class="bg-gray-50 p-6 rounded-lg">
                <h3 class="text-lg font-medium text-gray-800 mb-4 text-center">🎯 Diagram Venn Interaktif</h3>
                <div class="flex justify-center mb-4">
                    <svg width="400" height="250" viewBox="0 0 400 250" class="border rounded">
                        <!-- Background -->
                        <rect width="400" height="250" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
                        
                        <!-- Universe S -->
                        <text x="20" y="30" font-size="14" font-weight="bold" fill="#374151">S (Ruang Sampel)</text>
                        
                        <!-- Circle A -->
                        <circle id="circleA" cx="150" cy="125" r="60" fill="rgba(59, 130, 246, 0.3)" stroke="#3b82f6" stroke-width="3"/>
                        <text x="120" y="80" font-size="16" font-weight="bold" fill="#1e40af">A</text>
                        
                        <!-- Circle B -->
                        <circle id="circleB" cx="250" cy="125" r="60" fill="rgba(16, 185, 129, 0.3)" stroke="#10b981" stroke-width="3"/>
                        <text x="270" y="80" font-size="16" font-weight="bold" fill="#047857">B</text>
                        
                        <!-- Intersection label -->
                        <text x="185" y="130" font-size="12" font-weight="bold" fill="#7c2d12">A ∩ B</text>
                        
                        <!-- Legend -->
                        <text x="20" y="220" font-size="12" fill="#6b7280">Klik area untuk melihat perhitungan peluang</text>
                    </svg>
                </div>
                
                <div id="vennResult" class="text-center p-4 bg-white rounded border-2 border-gray-200">
                    <p class="text-gray-600">Klik pada area diagram untuk melihat contoh perhitungan</p>
                </div>
            </div>
        </div>

        <!-- Simulasi Gabungan Kejadian -->
        <div class="bg-white rounded-xl p-6 mb-8 card-shadow">
            <h3 class="text-xl font-semibold text-red-700 mb-4">🎯 Simulasi Kejadian A dan B</h3>
            <p class="text-gray-600 mb-4">Simulasi pelemparan dadu untuk memahami P(A), P(B), dan P(A ∩ B)</p>
            
            <div class="grid md:grid-cols-3 gap-4 mb-6">
                <div class="text-center">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h4 class="font-medium text-blue-800 mb-2">Kejadian A</h4>
                        <p class="text-sm text-gray-600 mb-2">Mata dadu genap (2, 4, 6)</p>
                        <div class="text-2xl font-bold text-blue-600" id="eventACount">0</div>
                        <div class="text-sm text-gray-500" id="eventAPercent">0%</div>
                    </div>
                </div>
                
                <div class="text-center">
                    <div class="bg-green-50 p-4 rounded-lg">
                        <h4 class="font-medium text-green-800 mb-2">Kejadian B</h4>
                        <p class="text-sm text-gray-600 mb-2">Mata dadu > 3 (4, 5, 6)</p>
                        <div class="text-2xl font-bold text-green-600" id="eventBCount">0</div>
                        <div class="text-sm text-gray-500" id="eventBPercent">0%</div>
                    </div>
                </div>
                
                <div class="text-center">
                    <div class="bg-purple-50 p-4 rounded-lg">
                        <h4 class="font-medium text-purple-800 mb-2">Kejadian A ∩ B</h4>
                        <p class="text-sm text-gray-600 mb-2">Genap DAN > 3 (4, 6)</p>
                        <div class="text-2xl font-bold text-purple-600" id="eventABCount">0</div>
                        <div class="text-sm text-gray-500" id="eventABPercent">0%</div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mb-4">
                <div class="w-24 h-24 mx-auto bg-white border-4 border-red-300 rounded-lg flex items-center justify-center text-4xl font-bold text-red-600 dice-face mb-4" id="combinedDiceResult">
                    ?
                </div>
                <button id="rollCombinedDice" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-colors mr-4">
                    Lempar Dadu
                </button>
                <button id="resetCombined" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium transition-colors">
                    Reset
                </button>
            </div>
            
            <div class="bg-red-50 p-4 rounded-lg">
                <div class="text-center">
                    <span class="text-sm text-gray-600">Total Pelemparan: </span>
                    <span id="totalCombinedRolls" class="font-bold text-red-600">0</span>
                </div>
                <div class="mt-3 text-sm text-gray-600">
                    <p><strong>Teori:</strong> $$P(A) = \frac{3}{6} = 50\%$$, $$P(B) = \frac{3}{6} = 50\%$$, $$P(A \cap B) = \frac{2}{6} = 33{,}3\%$$</p>
                    <p><strong>Rumus:</strong> $$P(A \cup B) = P(A) + P(B) - P(A \cap B) = 50\% + 50\% - 33{,}3\% = 66{,}7\%$$</p>
                </div>
            </div>
        </div>

        <!-- Simulasi Interaktif -->
        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <!-- Simulasi Dadu -->
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h3 class="text-xl font-semibold text-purple-700 mb-4">🎲 Simulasi Pelemparan Dadu</h3>
                
                <div class="text-center mb-6">
                    <div id="diceResult" class="w-24 h-24 mx-auto bg-white border-4 border-purple-300 rounded-lg flex items-center justify-center text-4xl font-bold text-purple-600 dice-face mb-4">
                        ?
                    </div>
                    <button id="rollDice" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        Lempar Dadu
                    </button>
                </div>
                
                <div class="bg-purple-50 p-4 rounded-lg">
                    <h4 class="font-medium text-purple-800 mb-2">Statistik Pelemparan:</h4>
                    <div id="diceStats" class="grid grid-cols-3 gap-2 text-sm">
                        <div class="text-center">
                            <div class="font-bold text-purple-600" id="dice1">0</div>
                            <div class="text-gray-600">Angka 1</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-purple-600" id="dice2">0</div>
                            <div class="text-gray-600">Angka 2</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-purple-600" id="dice3">0</div>
                            <div class="text-gray-600">Angka 3</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-purple-600" id="dice4">0</div>
                            <div class="text-gray-600">Angka 4</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-purple-600" id="dice5">0</div>
                            <div class="text-gray-600">Angka 5</div>
                        </div>
                        <div class="text-center">
                            <div class="font-bold text-purple-600" id="dice6">0</div>
                            <div class="text-gray-600">Angka 6</div>
                        </div>
                    </div>
                    <div class="mt-3 text-center">
                        <span class="text-sm text-gray-600">Total Pelemparan: </span>
                        <span id="totalRolls" class="font-bold text-purple-600">0</span>
                        <button id="resetDice" class="ml-4 text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded transition-colors">
                            Reset
                        </button>
                    </div>
                </div>
            </div>

            <!-- Simulasi Koin -->
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h3 class="text-xl font-semibold text-orange-700 mb-4">🪙 Simulasi Pelemparan Koin</h3>
                
                <div class="text-center mb-6">
                    <div id="coinResult" class="w-24 h-24 mx-auto bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-2xl font-bold text-white coin mb-4">
                        ?
                    </div>
                    <button id="flipCoin" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        Lempar Koin
                    </button>
                </div>
                
                <div class="bg-orange-50 p-4 rounded-lg">
                    <h4 class="font-medium text-orange-800 mb-2">Statistik Pelemparan:</h4>
                    <div class="grid grid-cols-2 gap-4 text-center">
                        <div>
                            <div class="font-bold text-2xl text-orange-600" id="headsCount">0</div>
                            <div class="text-gray-600">Gambar</div>
                            <div class="text-sm text-gray-500" id="headsPercent">0%</div>
                        </div>
                        <div>
                            <div class="font-bold text-2xl text-orange-600" id="tailsCount">0</div>
                            <div class="text-gray-600">Angka</div>
                            <div class="text-sm text-gray-500" id="tailsPercent">0%</div>
                        </div>
                    </div>
                    <div class="mt-3 text-center">
                        <span class="text-sm text-gray-600">Total Pelemparan: </span>
                        <span id="totalFlips" class="font-bold text-orange-600">0</span>
                        <button id="resetCoin" class="ml-4 text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded transition-colors">
                            Reset
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Latihan Soal -->
        <div class="bg-white rounded-xl p-6 card-shadow">
            <h2 class="text-2xl font-semibold text-green-700 mb-6">📝 Latihan Soal</h2>
            
            <div id="quizContainer" class="space-y-6">
                <!-- Soal akan dimuat di sini -->
            </div>
            
            <div class="mt-6 text-center">
                <button id="checkAnswers" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-medium transition-colors mr-4">
                    Periksa Jawaban
                </button>
                <button id="resetQuiz" class="bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-medium transition-colors">
                    Reset Soal
                </button>
            </div>
            
            <div id="quizResult" class="mt-6 p-4 rounded-lg hidden"></div>
        </div>
    </div>

    <script>
        // Simulasi Dadu
        let diceStats = {1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0};
        let totalDiceRolls = 0;

        document.getElementById('rollDice').addEventListener('click', function() {
            const result = Math.floor(Math.random() * 6) + 1;
            document.getElementById('diceResult').textContent = result;
            
            diceStats[result]++;
            totalDiceRolls++;
            
            // Update statistik
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`dice${i}`).textContent = diceStats[i];
            }
            document.getElementById('totalRolls').textContent = totalDiceRolls;
        });

        document.getElementById('resetDice').addEventListener('click', function() {
            diceStats = {1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0};
            totalDiceRolls = 0;
            document.getElementById('diceResult').textContent = '?';
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`dice${i}`).textContent = '0';
            }
            document.getElementById('totalRolls').textContent = '0';
        });

        // Simulasi Koin
        let headsCount = 0;
        let tailsCount = 0;
        let totalFlips = 0;

        document.getElementById('flipCoin').addEventListener('click', function() {
            const coin = document.getElementById('coinResult');
            coin.classList.add('flipping');
            
            setTimeout(() => {
                const result = Math.random() < 0.5 ? 'heads' : 'tails';
                
                if (result === 'heads') {
                    coin.textContent = '👑';
                    headsCount++;
                } else {
                    coin.textContent = '🔢';
                    tailsCount++;
                }
                
                totalFlips++;
                
                // Update statistik
                document.getElementById('headsCount').textContent = headsCount;
                document.getElementById('tailsCount').textContent = tailsCount;
                document.getElementById('totalFlips').textContent = totalFlips;
                
                const headsPercent = totalFlips > 0 ? ((headsCount / totalFlips) * 100).toFixed(1) : 0;
                const tailsPercent = totalFlips > 0 ? ((tailsCount / totalFlips) * 100).toFixed(1) : 0;
                
                document.getElementById('headsPercent').textContent = headsPercent + '%';
                document.getElementById('tailsPercent').textContent = tailsPercent + '%';
                
                coin.classList.remove('flipping');
            }, 500);
        });

        document.getElementById('resetCoin').addEventListener('click', function() {
            headsCount = 0;
            tailsCount = 0;
            totalFlips = 0;
            document.getElementById('coinResult').textContent = '?';
            document.getElementById('headsCount').textContent = '0';
            document.getElementById('tailsCount').textContent = '0';
            document.getElementById('totalFlips').textContent = '0';
            document.getElementById('headsPercent').textContent = '0%';
            document.getElementById('tailsPercent').textContent = '0%';
        });

        // Soal-soal latihan
        const questions = [
            {
                question: "Dalam pelemparan dadu, $A = \\{\\text{mata dadu genap}\\}$, $B = \\{\\text{mata dadu} > 3\\}$. Berapakah $P(A \\cap B)$?",
                options: ["$\\frac{1}{6}$", "$\\frac{2}{6}$", "$\\frac{3}{6}$", "$\\frac{4}{6}$"],
                correct: 1,
                explanation: "$A = \\{2, 4, 6\\}$, $B = \\{4, 5, 6\\}$. $A \\cap B = \\{4, 6\\}$. Jadi $P(A \\cap B) = \\frac{2}{6} = \\frac{1}{3}$"
            },
            {
                question: "Jika $P(A) = 0{,}4$ dan $P(B) = 0{,}3$ dan $P(A \\cap B) = 0{,}1$, maka $P(A \\cup B)$ adalah...",
                options: ["$0{,}6$", "$0{,}7$", "$0{,}8$", "$1{,}0$"],
                correct: 0,
                explanation: "$P(A \\cup B) = P(A) + P(B) - P(A \\cap B) = 0{,}4 + 0{,}3 - 0{,}1 = 0{,}6$"
            },
            {
                question: "Dalam pelemparan 2 dadu, peluang jumlah mata dadu 7 atau 11 adalah...",
                options: ["$\\frac{6}{36}$", "$\\frac{8}{36}$", "$\\frac{10}{36}$", "$\\frac{12}{36}$"],
                correct: 1,
                explanation: "Jumlah 7: $(1,6), (2,5), (3,4), (4,3), (5,2), (6,1) = 6$ cara. Jumlah 11: $(5,6), (6,5) = 2$ cara. Total $= \\frac{8}{36}$"
            },
            {
                question: "Sebuah kantong berisi 4 bola merah dan 6 bola biru. Jika diambil 2 bola sekaligus, peluang keduanya merah adalah...",
                options: ["$\\frac{2}{15}$", "$\\frac{4}{15}$", "$\\frac{6}{15}$", "$\\frac{8}{15}$"],
                correct: 0,
                explanation: "$P(\\text{kedua merah}) = \\frac{C(4,2)}{C(10,2)} = \\frac{6}{45} = \\frac{2}{15}$"
            },
            {
                question: "Jika A dan B adalah kejadian saling bebas dengan $P(A) = 0{,}3$ dan $P(B) = 0{,}4$, maka $P(A \\cap B)$ adalah...",
                options: ["$0{,}12$", "$0{,}7$", "$0{,}1$", "$0{,}5$"],
                correct: 0,
                explanation: "Untuk kejadian saling bebas: $P(A \\cap B) = P(A) \\times P(B) = 0{,}3 \\times 0{,}4 = 0{,}12$"
            },
            {
                question: "Dalam pelemparan dadu, $A = \\{1, 3, 5\\}$, $B = \\{2, 3, 4\\}$. Berapakah $P(A \\cup B)$?",
                options: ["$\\frac{4}{6}$", "$\\frac{5}{6}$", "$\\frac{6}{6}$", "$\\frac{3}{6}$"],
                correct: 1,
                explanation: "$A \\cup B = \\{1, 2, 3, 4, 5\\}$. Ada 5 elemen dari 6 kemungkinan. $P(A \\cup B) = \\frac{5}{6}$"
            }
        ];

        function loadQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'border border-gray-200 rounded-lg p-4';
                questionDiv.innerHTML = `
                    <h4 class="font-medium text-gray-800 mb-3">${index + 1}. ${q.question}</h4>
                    <div class="space-y-2">
                        ${q.options.map((option, optIndex) => `
                            <label class="flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded">
                                <input type="radio" name="q${index}" value="${optIndex}" class="mr-3">
                                <span>${String.fromCharCode(65 + optIndex)}. ${option}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div id="explanation${index}" class="mt-3 p-3 bg-blue-50 rounded hidden">
                        <p class="text-sm text-blue-800"><strong>Penjelasan:</strong> ${q.explanation}</p>
                    </div>
                `;
                container.appendChild(questionDiv);
            });
            
            // Render MathJax after loading questions
            MathJax.typesetPromise();
        }

        document.getElementById('checkAnswers').addEventListener('click', function() {
            let correct = 0;
            let total = questions.length;
            
            questions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const explanation = document.getElementById(`explanation${index}`);
                
                if (selected) {
                    if (parseInt(selected.value) === q.correct) {
                        correct++;
                        selected.parentElement.classList.add('bg-green-100', 'border-green-300');
                    } else {
                        selected.parentElement.classList.add('bg-red-100', 'border-red-300');
                    }
                }
                
                // Tampilkan jawaban yang benar
                const correctOption = document.querySelector(`input[name="q${index}"][value="${q.correct}"]`);
                if (correctOption) {
                    correctOption.parentElement.classList.add('bg-green-200', 'border-green-400');
                }
                
                explanation.classList.remove('hidden');
            });
            
            const resultDiv = document.getElementById('quizResult');
            const percentage = ((correct / total) * 100).toFixed(1);
            let message = '';
            let bgColor = '';
            
            if (percentage >= 80) {
                message = '🎉 Excellent! Kamu sangat memahami materi peluang!';
                bgColor = 'bg-green-100 border-green-300 text-green-800';
            } else if (percentage >= 60) {
                message = '👍 Good job! Kamu cukup memahami materi, terus berlatih!';
                bgColor = 'bg-yellow-100 border-yellow-300 text-yellow-800';
            } else {
                message = '💪 Keep trying! Pelajari lagi materi dan coba simulasi di atas!';
                bgColor = 'bg-red-100 border-red-300 text-red-800';
            }
            
            resultDiv.innerHTML = `
                <div class="text-center">
                    <h3 class="text-xl font-semibold mb-2">Hasil Quiz</h3>
                    <p class="text-2xl font-bold mb-2">${correct}/${total} (${percentage}%)</p>
                    <p class="text-lg">${message}</p>
                </div>
            `;
            resultDiv.className = `mt-6 p-4 rounded-lg border-2 ${bgColor}`;
            resultDiv.classList.remove('hidden');
        });

        document.getElementById('resetQuiz').addEventListener('click', function() {
            loadQuiz();
            document.getElementById('quizResult').classList.add('hidden');
        });

        // Simulasi Kejadian Gabungan
        let eventACount = 0;
        let eventBCount = 0;
        let eventABCount = 0;
        let totalCombinedRolls = 0;

        document.getElementById('rollCombinedDice').addEventListener('click', function() {
            const result = Math.floor(Math.random() * 6) + 1;
            document.getElementById('combinedDiceResult').textContent = result;
            
            totalCombinedRolls++;
            
            // Cek kejadian A (genap: 2, 4, 6)
            if (result % 2 === 0) {
                eventACount++;
            }
            
            // Cek kejadian B (> 3: 4, 5, 6)
            if (result > 3) {
                eventBCount++;
            }
            
            // Cek kejadian A ∩ B (genap DAN > 3: 4, 6)
            if (result % 2 === 0 && result > 3) {
                eventABCount++;
            }
            
            // Update tampilan
            document.getElementById('eventACount').textContent = eventACount;
            document.getElementById('eventBCount').textContent = eventBCount;
            document.getElementById('eventABCount').textContent = eventABCount;
            document.getElementById('totalCombinedRolls').textContent = totalCombinedRolls;
            
            // Update persentase
            const aPercent = totalCombinedRolls > 0 ? ((eventACount / totalCombinedRolls) * 100).toFixed(1) : 0;
            const bPercent = totalCombinedRolls > 0 ? ((eventBCount / totalCombinedRolls) * 100).toFixed(1) : 0;
            const abPercent = totalCombinedRolls > 0 ? ((eventABCount / totalCombinedRolls) * 100).toFixed(1) : 0;
            
            document.getElementById('eventAPercent').textContent = aPercent + '%';
            document.getElementById('eventBPercent').textContent = bPercent + '%';
            document.getElementById('eventABPercent').textContent = abPercent + '%';
        });

        document.getElementById('resetCombined').addEventListener('click', function() {
            eventACount = 0;
            eventBCount = 0;
            eventABCount = 0;
            totalCombinedRolls = 0;
            
            document.getElementById('combinedDiceResult').textContent = '?';
            document.getElementById('eventACount').textContent = '0';
            document.getElementById('eventBCount').textContent = '0';
            document.getElementById('eventABCount').textContent = '0';
            document.getElementById('totalCombinedRolls').textContent = '0';
            document.getElementById('eventAPercent').textContent = '0%';
            document.getElementById('eventBPercent').textContent = '0%';
            document.getElementById('eventABPercent').textContent = '0%';
        });

        // Interaksi Diagram Venn
        document.getElementById('circleA').addEventListener('click', function() {
            document.getElementById('vennResult').innerHTML = `
                <div class="text-left">
                    <h4 class="font-bold text-blue-600 mb-2">Kejadian A (Area Biru)</h4>
                    <p class="text-sm mb-2"><strong>Contoh:</strong> Dalam pelemparan dadu, $A = \\{2, 4, 6\\}$ (mata dadu genap)</p>
                    <p class="text-sm mb-2"><strong>Perhitungan:</strong> $P(A) = \\frac{n(A)}{n(S)} = \\frac{3}{6} = \\frac{1}{2} = 0{,}5$</p>
                    <p class="text-sm text-blue-600"><strong>Artinya:</strong> Peluang muncul mata dadu genap adalah 50%</p>
                </div>
            `;
            MathJax.typesetPromise();
        });

        document.getElementById('circleB').addEventListener('click', function() {
            document.getElementById('vennResult').innerHTML = `
                <div class="text-left">
                    <h4 class="font-bold text-green-600 mb-2">Kejadian B (Area Hijau)</h4>
                    <p class="text-sm mb-2"><strong>Contoh:</strong> Dalam pelemparan dadu, $B = \\{4, 5, 6\\}$ (mata dadu $> 3$)</p>
                    <p class="text-sm mb-2"><strong>Perhitungan:</strong> $P(B) = \\frac{n(B)}{n(S)} = \\frac{3}{6} = \\frac{1}{2} = 0{,}5$</p>
                    <p class="text-sm text-green-600"><strong>Artinya:</strong> Peluang muncul mata dadu $> 3$ adalah 50%</p>
                </div>
            `;
            MathJax.typesetPromise();
        });

        // Klik pada area irisan (intersection)
        document.querySelector('svg').addEventListener('click', function(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Area irisan kira-kira di tengah antara kedua lingkaran
            if (x > 180 && x < 220 && y > 105 && y < 145) {
                document.getElementById('vennResult').innerHTML = `
                    <div class="text-left">
                        <h4 class="font-bold text-purple-600 mb-2">Kejadian $A \\cap B$ (Irisan)</h4>
                        <p class="text-sm mb-2"><strong>Contoh:</strong> $A = \\{2,4,6\\}$ (genap), $B = \\{4,5,6\\}$ ($>3$)</p>
                        <p class="text-sm mb-2"><strong>$A \\cap B$:</strong> Genap DAN $>3$ = $\\{4, 6\\}$</p>
                        <p class="text-sm mb-2"><strong>Perhitungan:</strong> $P(A \\cap B) = \\frac{2}{6} = \\frac{1}{3} \\approx 0{,}33$</p>
                        <p class="text-sm text-purple-600"><strong>Artinya:</strong> Peluang muncul mata dadu genap DAN $>3$ adalah $33{,}3\\%$</p>
                    </div>
                `;
                MathJax.typesetPromise();
            }
        });

        // Load quiz saat halaman dimuat
        loadQuiz();
        
        // Render MathJax when page loads
        window.addEventListener('load', function() {
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96e6489c55a0895f',t:'MTc1NTA2Nzg4My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
